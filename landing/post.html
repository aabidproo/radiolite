{% extends "base.html" %}

{% block title %}{{ title }} | Radiolite Blog{% endblock %}
{% block meta_description %}{{ description }}{% endblock %}

{% block content %}
<article class="post-page container">
    <div class="post-header">
        <a href="/" class="back-link">&larr; Back to Radiolite</a>
        <h1 class="post-page-title">{{ post.title }}</h1>
        <div class="post-meta-top">
            <span class="blog-date">Published on {{ post.created_at.strftime('%B %d, %Y') }}</span>
        </div>
    </div>

    {% if post.image_url %}
    <div class="post-featured-image-wrapper">
        <div class="post-featured-image">
            {% if post.image_link %}<a href="{{ post.image_link }}" target="_blank">{% endif %}
            <img src="{{ post.image_url }}" alt="{{ post.title }}">
            {% if post.image_link %}</a>{% endif %}
        </div>
        {% if post.image_source %}
        <div class="image-source">{{ post.image_source }}</div>
        {% endif %}
    </div>
    {% endif %}

    <div class="post-content markdown-body">
        {{ post.content | markdown | safe }}
    </div>

    <div class="post-footer">
        <div class="cta-card">
            <h3>Love this station?</h3>
            <p>Download Radiolite for free and listen to 49,000+ stations from your menu bar.</p>
            <div class="cta-actions">
                <a href="/" class="btn btn-primary-white">Get Radiolite Free</a>
            </div>
        </div>
    </div>
</article>

<style>
.post-page {
    padding-top: 140px;
    padding-bottom: 100px;
    max-width: 800px;
}

.back-link {
    color: var(--accent);
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 24px;
    display: inline-block;
}

.post-page-title {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 800;
    letter-spacing: -0.04em;
    line-height: 1.1;
    margin-bottom: 24px;
}

.post-meta-top {
    margin-bottom: 40px;
}

.post-featured-image {
    width: 100%;
    max-height: 500px; /* Fixed height for consistency */
    margin-bottom: 60px;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid var(--border);
}

.post-featured-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.3s ease;
}

.post-featured-image a:hover img {
    transform: scale(1.02);
}

.image-source {
    font-size: 0.8rem;
    color: var(--text-muted);
    margin-top: 12px;
    text-align: center;
    font-style: italic;
    opacity: 0.7;
}

.post-featured-image-wrapper {
    margin-bottom: 60px;
}

.post-content {
    line-height: 1.8;
    color: #e0e0e0;
    font-size: 1.1rem;
}

.post-content h2 { color: #fff; margin: 40px 0 20px; font-size: 1.8rem; }
.post-content p { margin-bottom: 24px; }
.post-content ul, .post-content ol { margin-bottom: 24px; padding-left: 20px; }
.post-content li { margin-bottom: 12px; }

.cta-card {
    background: #111;
    border: 1px solid var(--accent);
    padding: 40px;
    border-radius: 12px;
    margin-top: 80px;
    text-align: center;
}

.cta-card h3 { font-size: 1.8rem; margin-bottom: 16px; }
.cta-card p { color: var(--text-secondary); margin-bottom: 24px; }
.cta-actions { display: flex; justify-content: center; }
</style>
{% endblock %}
